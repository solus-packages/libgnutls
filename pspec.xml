<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "https://solus-project.com/standard/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>gnutls</Name>
        <Homepage>http://www.gnu.org</Homepage>
        <Packager>
            <Name>Ikey Doherty</Name>
            <Email>ikey@evolve-os.com</Email>
        </Packager>
        <Summary>The GnuTLS package contains libraries and userspace tools which provide a secure layer over a reliable transport layer</Summary>
        <Description>The GnuTLS package contains libraries and userspace tools which provide a secure layer over a reliable transport layer. Currently the GnuTLS library implements the proposed standards by the IETF's TLS working group. Quoting from the TLS protocol specification:

            “The TLS protocol provides communications privacy over the Internet. The protocol allows client/server applications to communicate in a way that is designed to prevent eavesdropping, tampering, or message forgery.”

            GnuTLS provides support for TLS 1.3, 1.2, 1.1, 1.0, TLS extensions, including server name and max record size. Additionally, the library supports authentication using the SRP protocol, X.509 certificates and OpenPGP keys, along with support for the TLS Pre-Shared-Keys (PSK) extension, the Inner Application (TLS/IA) extension and X.509 and OpenPGP certificate handling.
        </Description>
        <License>LGPL-2.1-or-later</License>
        <Archive sha1sum="cb3e25d477a8821b05ba8e0596093ddb64c3f702" type="tarxz">https://www.gnupg.org/ftp/gcrypt/gnutls/v3.6/gnutls-3.6.4.tar.xz</Archive>

        <BuildDependencies>
            <Dependency type="pkgconfig">p11-kit-1</Dependency>
            <Dependency type="pkgconfig32">p11-kit-1</Dependency>
            <Dependency type="pkgconfig">libtasn1</Dependency>
            <Dependency type="pkgconfig32">libtasn1</Dependency>
            <Dependency type="pkgconfig">nettle</Dependency>
            <Dependency type="pkgconfig32">nettle</Dependency>
            <Dependency type="pkgconfig">guile-2.0</Dependency>
            <Dependency type="pkgconfig32">guile-2.0</Dependency>
            <Dependency>glibc-32bit-devel</Dependency>
            <Dependency>libgcc-32bit</Dependency>
            <Dependency>gmp-32bit-devel</Dependency>
            <Dependency>libstdc++-32bit</Dependency>
            <Dependency>autogen-32bit-devel</Dependency>
            <Dependency>autogen-devel</Dependency>
            <Dependency>libunistring-32bit-devel</Dependency>
        </BuildDependencies>
    </Source>

    <Package>
        <Name>libgnutls</Name>
        <Files>
            <Path fileType="library">/usr/lib64/lib*.so.*</Path>
            <Path fileType="doc">/usr/share/doc</Path>
            <Path fileType="localedata">/usr/share/locale</Path>
        </Files>
        <RuntimeDependencies>
            <Dependency>libunistring</Dependency>
        </RuntimeDependencies>
    </Package>

    <Package>
        <Name>libgnutls-32bit</Name>
        <BuildType>emul32</BuildType>
        <PartOf>emul32</PartOf>
        <Files>
            <Path fileType="library">/usr/lib32/lib*.so.*</Path>
        </Files>
        <RuntimeDependencies>
            <Dependency release="current">libgnutls</Dependency>
            <Dependency>libp11-kit-32bit</Dependency>
            <Dependency>libnettle-32bit</Dependency>
            <Dependency>libunistring-32bit</Dependency>
        </RuntimeDependencies>
    </Package>

    <Package>
        <Name>libgnutls-devel</Name>
        <Summary>Development files for libgnutls</Summary>
        <Description>Development files for libgnutls</Description>
        <Files>
            <Path fileType="header">/usr/include</Path>
            <Path fileType="library">/usr/lib64/lib*.so</Path>
            <Path fileType="data">/usr/lib64/pkgconfig</Path>
            <Path fileType="man">/usr/share/man/man3</Path>
        </Files>
        <RuntimeDependencies>
            <Dependency release="current">libgnutls</Dependency>
        </RuntimeDependencies>
    </Package>

    <Package>
        <Name>libgnutls-32bit-devel</Name>
        <BuildType>emul32</BuildType>
        <Summary>32-bit Development files for libgnutls</Summary>
        <Description>32-bit Development files for libgnutls</Description>
        <Files>
            <Path fileType="library">/usr/lib32/lib*.so</Path>
            <Path fileType="data">/usr/lib32/pkgconfig</Path>
        </Files>
        <RuntimeDependencies>
            <Dependency release="current">libgnutls-32bit</Dependency>
            <Dependency release="current">libgnutls-devel</Dependency>
            <Dependency>libnettle-32bit-devel</Dependency>
        </RuntimeDependencies>
    </Package>

    <Package>
        <Name>libgnutls-docs</Name>
        <Summary>API Documentation for libgnutls</Summary>
        <Description>API Documentation for libgnutls</Description>
        <Files>
            <Path fileType="doc">/usr/share/gtk-doc</Path>
            <Path fileType="info">/usr/share/info</Path>
        </Files>
        <RuntimeDependencies>
            <Dependency release="current">libgnutls-devel</Dependency>
        </RuntimeDependencies>
    </Package>

    <Package>
        <Name>gnutls</Name>
        <Summary>Command line applications for GnuTLS</Summary>
        <Description>Command line applications for GnuTLS</Description>
        <Files>
            <Path fileType="executable">/usr/bin</Path>
            <Path fileType="man">/usr/share/man/man1</Path>
        </Files>
        <RuntimeDependencies>
            <Dependency>autogen-libs</Dependency>
        </RuntimeDependencies>
    </Package>

    <History>
        <Update release="27">
            <Date>26-09-2018</Date>
            <Version>3.6.4</Version>
            <Comment>Update to 3.6.4</Comment>
            <Name>Pierre-Yves</Name>
            <Email>pyu@riseup.net</Email>
        </Update>

        <Update release="26">
            <Date>09-04-2018</Date>
            <Version>3.6.3</Version>
            <Comment>Backport regression fix</Comment>
            <Name>Pierre-Yves</Name>
            <Email>pyu@riseup.net</Email>
        </Update>

        <Update release="25">
            <Date>07-16-2018</Date>
            <Version>3.6.3</Version>
            <Comment>Update to 3.6.3</Comment>
            <Name>Pierre-Yves</Name>
            <Email>pyu@riseup.net</Email>
        </Update>

        <Update release="24">
            <Date>02-19-2018</Date>
            <Version>3.6.2</Version>
            <Comment>Update 3.6.2</Comment>
            <Name>Pierre-Yves</Name>
            <Email>pyu@riseup.net</Email>
        </Update>

        <Update release="23">
            <Date>08-13-2017</Date>
            <Version>3.5.14</Version>
            <Comment>Update 3.5.14 and fix trust-store path</Comment>
            <Name>Pierre-Yves</Name>
            <Email>pyu@riseup.net</Email>
        </Update>

        <Update release="22">
            <Date>04-30-2017</Date>
            <Version>3.5.11</Version>
            <Comment>Fix 32bit dep borkage</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="21">
            <Date>04-08-2017</Date>
            <Version>3.5.11</Version>
            <Comment>Update to 3.5.11</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="20">
            <Date>01-22-2017</Date>
            <Version>3.5.8</Version>
            <Comment>Package bump</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="19">
            <Date>01-22-2017</Date>
            <Version>3.5.8</Version>
            <Comment>Package bump</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="18">
            <Date>01-18-2017</Date>
            <Version>3.5.8</Version>
            <Comment>Update to 3.5.8 to address multiple CVEs</Comment>
            <Name>Peter O'Connor</Name>
            <Email>peter@solus-project.com</Email>
        </Update>

        <Update release="17">
            <Date>10-08-2016</Date>
            <Version>3.4.15</Version>
            <Comment>Update to 3.4.15</Comment>
            <Name>Justin Zobel</Name>
            <Email>justin@solus-project.com</Email>
        </Update>

        <Update release="16" type="security">
            <Date>06-10-2016</Date>
            <Version>3.4.13</Version>
            <Comment>Update to 3.4.13 to address CVE-2016-4456</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="15">
            <Date>05-22-2016</Date>
            <Version>3.4.9</Version>
            <Comment>Package bump</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="14">
            <Date>03-06-2016</Date>
            <Version>3.4.9</Version>
            <Comment>Package bump</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="13">
            <Date>03-06-2016</Date>
            <Version>3.4.9</Version>
            <Comment>Update to 3.4.9</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="12">
            <Date>03-06-2016</Date>
            <Version>3.2.21</Version>
            <Comment>Package bump</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="11">
            <Date>02-25-2016</Date>
            <Version>3.2.21</Version>
            <Comment>Package bump</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="10">
            <Date>04-17-2015</Date>
            <Version>3.2.21</Version>
            <Comment>Update to 3.2.21</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="9">
            <Date>01-15-2015</Date>
            <Version>3.1.28</Version>
            <Comment>Update to 3.1.28</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@evolve-os.com</Email>
        </Update>

        <Update release="8">
            <Date>10-15-2014</Date>
            <Version>3.1.27</Version>
            <Comment>Rebuild for dep changes</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@evolve-os.com</Email>
        </Update>

        <Update release="7" type="security">
            <Date>10-15-2014</Date>
            <Version>3.1.27</Version>
            <Comment>CVE-2014-1959:
lib/x509/verify.c in GnuTLS before 3.1.21 and 3.2.x before 3.2.11 treats version 1 X.509 certificates as intermediate CAs, which allows remote attackers to bypass intended restrictions by leveraging a X.509 V1 certificate from a trusted CA to issue new certificates.
</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@evolve-os.com</Email>
        </Update>

        <Update release="6">
            <Date>09-28-2014</Date>
            <Version>3.1.12</Version>
            <Comment>Update for FileZilla</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@evolve-os.com</Email>
        </Update>

        <Update release="5" type="security">
            <Date>07-06-2014</Date>
            <Version>3.1.10</Version>
            <Comment>CVE-2014-3466:
Buffer overflow in the read_server_hello function in lib/gnutls_handshake.c in GnuTLS before 3.1.25, 3.2.x before 3.2.15, and 3.3.x before 3.3.4 allows remote servers to cause a denial of service (memory corruption) or possibly execute arbitrary code via a long session id in a ServerHello message. </Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey.doherty@gmail.com</Email>
        </Update>

        <Update release="4">
            <Date>07-08-2013</Date>
            <Version>3.1.10</Version>
            <Comment>Fix certificate location</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solusos.com</Email>
        </Update>

        <Update release="3">
            <Date>04-14-2013</Date>
            <Version>3.1.10</Version>
            <Comment>Add build and runtime dependencies</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solusos.com</Email>
        </Update>

        <Update release="2">
            <Date>04-14-2013</Date>
            <Version>3.1.10</Version>
            <Comment>Split packages</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solusos.com</Email>
        </Update>

        <Update release="1">
            <Date>04-14-2013</Date>
            <Version>3.1.10</Version>
            <Comment>Add gnutls to repositories</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solusos.com</Email>
        </Update>
    </History>
</PISI>
